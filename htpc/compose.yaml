---
x-default-container: &default-container
  #user: 1000:1000
  group_add: 
    - "1000"
  environment:
    - PUID=1000 
    - PGID=1000 
    - TZ=America/Toronto 
  restart: unless-stopped

  # containers on the mediarr nework, also have access to specific volumes
x-mediarr-container: &mediarr-container
  <<: *default-container
  volumes: 
    - mediarr-data:/data/mediarr/
    - mediarr-downloads:/data/downloads/
volumes:
  mediarr-data:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /mnt/ark/mediarr/
  mediarr-downloads:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /mnt/ark/mediar/downloads/
services:
  sonarr:
    image: lscr.io/linuxserver/sonarr:latest
    <<: *mediarr-container
    container_name: sonarr
    volumes:
      - /mnt/ark/mediarr/sonarr:/config
    ports:
      - 8989:8989
    restart: unless-stopped

  radarr: 
    image: lscr.io/linuxserver/radarr:latest
    <<: *mediarr-container
    container_name: radarr
    volumes:
      - /mnt/ark/mediarr/radarr:/config
    ports:
      - 7878:7878
    restart: unless-stopped

  #wireguard:
   # image: lscr.io/linuxserver/wireguard:latest
   # <<: *default-container
   # container_name: wireguard
   # volumes:
   #   - /mnt/ark/mediarr/wireguard:/config/wg_confs
    #ports:
    #  - 51820:51820/udp
    #cap_add:
    # - NET_ADMIN
    #  - SYS_MODULE
    #environment:
